{"version":3,"sources":["types/actions.ts","redux/messages/messagesReducers.ts","redux/store.ts","components/shared/Message/Message.tsx","components/elements/MessageList/MessageList.tsx","components/elements/MessageInput/MessageInput.tsx","redux/messages/messagesActions.ts","screen/HomeScreen/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["ADD_MESSAGE","initialState","persistedReducer","combineReducers","messagesStore","state","action","type","payload","logger","createLogger","middleWares","compose","applyMiddleware","reduxThunk","promise","store","createStore","Message","result","this","props","item","files","length","reader","FileReader","readAsDataURL","onloadend","setState","className","newItem","text","src","style","maxHeight","maxWidth","React","PureComponent","MessageList","messages","map","key","id","MessageInput","handleChange","e","target","value","handleSubmit","preventDefault","Date","now","addMessage","document","getElementById","innerHTML","handlerFunction","console","log","handleDrop","dataTransfer","forEach","uploadFile","previewFile","handleFiles","file","prevState","concat","img","createElement","appendChild","onSubmit","multiple","accept","onChange","htmlFor","autoComplete","placeholder","stopPropagation","dropArea","highlight","classList","add","unhighlight","remove","eventName","addEventListener","preventDefaults","dispatch","HomeScreen","position","top","left","width","height","background","Component","connect","bindActionCreators","App","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","URL","process","href","origin","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.0eb76d98.chunk.js","sourcesContent":["export const ADD_MESSAGE = 'ADD_MESSAGE';","import { ADD_MESSAGE } from '../../types/actions';\r\nimport { Item } from '../../types/store';\r\n\r\nconst initialState: Array<Item> = [\r\n\r\n];\r\n\r\nexport function messagesReducer(state = initialState, action): any {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\tcase ADD_MESSAGE:\r\n\t\treturn [\r\n\t\t\tpayload,\r\n\t\t\t...state\r\n\t\t];\r\n\tdefault:\r\n\t\treturn state;\r\n\t}\r\n}","import { createStore, applyMiddleware, compose, combineReducers } from 'redux';\r\nimport { createLogger } from 'redux-logger';\r\nimport reduxThunk from 'redux-thunk';\r\nimport promise from 'redux-promise';\r\n\r\nimport { messagesReducer } from './messages/messagesReducers';\r\n\r\nconst persistedReducer = combineReducers({\r\n\tmessagesStore: messagesReducer,\r\n});\r\n\r\nconst logger = createLogger();\r\nconst middleWares = compose(applyMiddleware(reduxThunk, promise, logger));\r\n\r\nconst store = createStore(\r\n\tpersistedReducer,\r\n\tmiddleWares,\r\n);\r\n\r\nexport { store };","import React from 'react';\r\nimport './Message.css';\r\n\r\ninterface MessageProps {\r\n\titem: any;\r\n}\r\n\r\ninterface MessageState {\r\n\tresult: any;\r\n}\r\n\r\nexport default class Message extends React.PureComponent<MessageProps, MessageState> {\r\n\tstate = {\r\n\t\tresult: ''\r\n\t}\r\n\trender(): any {\r\n\t\tif (this.props.item.files.length) {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(this.props.item.files[0]);\r\n\t\t\treader.onloadend = () => {\r\n\t\t\t\tthis.setState({ result: reader.result });\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"bodyMessage\">\r\n\t\t\t\t<div className=\"textMessage\">{this.props.item.newItem.text}\r\n\t\t\t\t\t{this.props.item.files.length ? <img src={this.state.result} style={{maxHeight: '100px', maxWidth: '100px'}}/> : null}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React from 'react';\r\nimport Message from '../../shared/Message/Message';\r\nimport { Item } from '../../../types/store';\r\nimport './MessageList.css';\r\n\r\nexport default class MessageList extends React.PureComponent<{ messages: any }> {\r\n\trender(): any {\r\n\t\treturn (\r\n\t\t\t<div className=\"divMessageList\">\r\n\t\t\t\t{this.props.messages.map(item => (\r\n\t\t\t\t\t<Message item={item} key={item.newItem.id}/>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React from 'react';\r\nimport { Item } from '../../../types/store';\r\nimport './MessageInput.css';\r\n\r\ninterface MessageInputProps {\r\n\taddMessage(newItem: Item, files: Array<File>): void;\r\n}\r\n\r\ninterface MessageInputState {\r\n\ttext: string;\r\n\tfiles: Array<File>;\r\n}\r\n\r\nexport default class MessageInput extends React.PureComponent<MessageInputProps, MessageInputState> {\r\n\tstate = { text: '', files: [] };\r\n\r\n\thandleChange = (e): void => {\r\n\t\tthis.setState({ text: e.target.value });\r\n\t}\r\n\r\n\thandleSubmit = (e): void => {\r\n\t\te.preventDefault();\r\n\t\tif (!(this.state.text.length || this.state.files.length)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst newItem: Item = {\r\n\t\t\ttext: this.state.text,\r\n\t\t\tid: Date.now()\r\n\t\t};\r\n\t\tthis.props.addMessage(newItem, this.state.files);\r\n\r\n\t\tthis.setState({\r\n\t\t\ttext: '',\r\n\t\t\tfiles: []\r\n\t\t});\r\n\t\tdocument.getElementById('gallery').innerHTML = '';\r\n\t}\r\n\r\n\thandlerFunction = (e): void => {\r\n\t\tconsole.log(e);\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\thandleDrop = (e): void => {\r\n\t\tconst dt = e.dataTransfer;\r\n\t\tlet files = dt.files;\r\n\t\tfiles = [...files];\r\n\t\tfiles.forEach(this.uploadFile);\r\n\t\tfiles.forEach(this.previewFile);\r\n\t};\r\n\r\n\thandleFiles = (files): void => {\r\n\t\tfiles = (files.target.files);\r\n\t\tfiles = [...files];\r\n\t\tfiles.forEach(this.uploadFile);\r\n\t\tfiles.forEach(this.previewFile);\r\n\t}\r\n\r\n\tuploadFile = (file): void => {\r\n\t\tthis.setState((prevState) => ({files: prevState.files.concat(file) }));\r\n\t}\r\n\r\n\tpreviewFile = (file) => {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.readAsDataURL(file);\r\n\t\treader.onloadend = function() {\r\n\t\t\tconst img = document.createElement('img');\r\n\t\t\t(img as any).src = reader.result;\r\n\t\t\tdocument.getElementById('gallery').appendChild(img);\r\n\t\t};\r\n\t}\r\n\r\n\trender(): any {\r\n\t\treturn (\r\n\t\t\t<div id=\"drop-area\" onSubmit={this.handleSubmit}>\r\n\t\t\t\t<form className=\"my-form\">\r\n\t\t\t\t\t<input type=\"file\" id=\"fileElem\" multiple accept=\"image/*\" onChange={this.handleFiles} />\r\n\t\t\t\t\t<label className=\"button\" htmlFor=\"fileElem\">\r\n\t\t\t\t\t\tскрепка\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\tclassName=\"input\"\r\n\t\t\t\t\t\tplaceholder='Напишите сообщение...'\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tvalue={this.state.text}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t\t<div id=\"gallery\"></div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tpreventDefaults(e) {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t}\r\n\r\n\tcomponentDidMount(): any {\r\n\t\tconst dropArea = document.getElementById('drop-area');\r\n\r\n\t\tfunction highlight(): void {\r\n\t\t\tdropArea.classList.add('highlight');\r\n\t\t}\r\n\t\tfunction unhighlight(): void {\r\n\t\t\tdropArea.classList.remove('highlight');\r\n\t\t}\r\n\r\n\t\t['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {\r\n\t\t\tdropArea.addEventListener(eventName, this.preventDefaults, false);\r\n\t\t});\r\n\t\t['dragenter', 'dragover'].forEach(eventName => {\r\n\t\t\tdropArea.addEventListener(eventName, highlight, false);\r\n\t\t});\r\n\t\t['dragleave', 'drop'].forEach(eventName => {\r\n\t\t\tdropArea.addEventListener(eventName, unhighlight, false);\r\n\t\t});\r\n\t\tdropArea.addEventListener('drop', this.handleDrop, false);\r\n\t}\r\n}","import { Dispatch, Action } from 'redux';\r\nimport { ADD_MESSAGE } from '../../types/actions';\r\nimport { Item } from '../../types/store';\r\n\r\nexport const addMessage = (newItem: Item, files: Array<File>) => {\r\n\treturn (dispatch: Dispatch<Action>): void => {\r\n\t\tdispatch({ type: ADD_MESSAGE, payload: { newItem, files } });\r\n\t};\r\n};","import React from 'react';\r\nimport MessageList from '../../components/elements/MessageList/MessageList';\r\nimport MessageInput from '../../components/elements/MessageInput/MessageInput';\r\nimport { Item, ApplicationStore } from '../../types/store';\r\nimport './styles.css';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators, Dispatch, AnyAction } from 'redux';\r\nimport { addMessage } from '../../redux/messages/messagesActions';\r\n\r\ninterface HomeScreenProps {\r\n\tmessagesStore: Array<Item>;\r\n\taddMessage(Item: Item): void;\r\n}\r\n\r\nconst mapStateToProps = (state: ApplicationStore): any => ({\r\n\tmessagesStore: state.messagesStore,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<AnyAction>): any => ({\r\n\taddMessage: bindActionCreators(addMessage, dispatch)\r\n});\r\n\r\nclass HomeScreen extends React.Component<HomeScreenProps> {\r\n\r\n\trender(): any {\r\n\t\tconst { messagesStore, addMessage } = this.props;\r\n\t\treturn (\r\n\t\t\t<div style={{ position: 'fixed', top: 0, left: 0,\twidth: '100%', height: '100%', background: '#e9e9e9'}}>\r\n\t\t\t\t<header style={{background: 'white', height: '50px' }}>Чат</header>\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t\t<MessageList messages={messagesStore} />\r\n\t\t\t\t\t\t<MessageInput addMessage={addMessage} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeScreen);","import React, { Component } from 'react';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './redux/store';\r\nimport HomeScreen from './screen/HomeScreen';\r\n\r\nclass App extends Component {\r\n\trender(): React.ReactElement {\r\n\t\treturn (\r\n\t\t\t<Provider store={store}>\r\n\t\t\t\t<HomeScreen />\r\n\t\t\t</Provider >\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nserviceWorker.register();"],"sourceRoot":""}